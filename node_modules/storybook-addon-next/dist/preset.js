"use strict";
// https://storybook.js.org/docs/react/addons/writing-presets
Object.defineProperty(exports, "__esModule", { value: true });
exports.webpackFinal = exports.babel = exports.managerEntries = exports.config = void 0;
const tslib_1 = require("tslib");
const utils_1 = require("./utils");
const webpack_1 = require("./css/webpack");
const webpack_2 = require("./absoluteImports/webpack");
const webpack_3 = require("./routing/webpack");
const webpack_4 = require("./styledJsx/webpack");
const babel_1 = require("./styledJsx/babel");
const webpack_5 = require("./images/webpack");
const config = (entry = []) => [
    ...entry,
    require.resolve('./preview')
];
exports.config = config;
const managerEntries = (entry = []) => [
    ...entry,
    require.resolve('./register')
];
exports.managerEntries = managerEntries;
const babel = (config) => (0, babel_1.configureStyledJsxTransforms)(config);
exports.babel = babel;
const webpackFinal = (baseConfig) => (0, tslib_1.__awaiter)(void 0, void 0, void 0, function* () {
    const nextConfig = yield (0, utils_1.resolveNextConfig)(baseConfig);
    (0, webpack_2.configureAbsoluteImports)(baseConfig);
    (0, webpack_1.configureCss)(baseConfig, nextConfig);
    (0, webpack_5.configureImages)(baseConfig);
    (0, webpack_3.configureRouting)(baseConfig);
    (0, webpack_4.configureStyledJsx)(baseConfig);
    return baseConfig;
});
exports.webpackFinal = webpackFinal;
